From 3e95c4594ec4caadb19a9b0a0c6657f054700d0d Mon Sep 17 00:00:00 2001
From: raysenlau <raysen@live.cn>
Date: Mon, 23 Nov 2020 13:42:57 +0800
Subject: [PATCH] audio: Drop LOCAL_COPY_HEADERS usage

LOCAL_COPY_HEADERS is deprecated, so remove all its usages
to avoid build warnings.

Change-Id: I4c52508e9109c5f448653fd5613a8991d28bbb2e
---
 hal/Android.mk      |  4 +---
 qahw/Android.mk     |  6 +-----
 qahw_api/Android.mk | 13 +------------
 3 files changed, 3 insertions(+), 20 deletions(-)

diff --git a/hal/Android.mk b/hal/Android.mk
index faf632c..64d8549 100644
--- a/hal/Android.mk
+++ b/hal/Android.mk
@@ -367,9 +367,7 @@ endif
 
 LOCAL_CFLAGS += -D_GNU_SOURCE
 LOCAL_CFLAGS += -Wall -Werror
-
-LOCAL_COPY_HEADERS_TO   := mm-audio
-LOCAL_COPY_HEADERS      := audio_extn/audio_defs.h
+LOCAL_EXPORT_C_INCLUDE_DIRS := $(LOCAL_PATH)
 
 ifeq ($(strip $(AUDIO_FEATURE_ENABLED_GCOV)),true)
     LOCAL_CFLAGS += --coverage -fprofile-arcs -ftest-coverage
diff --git a/qahw/Android.mk b/qahw/Android.mk
index decd4c6..e8caa77 100644
--- a/qahw/Android.mk
+++ b/qahw/Android.mk
@@ -26,11 +26,7 @@ LOCAL_SHARED_LIBRARIES := \
     libdl
 
 LOCAL_CFLAGS += -Wall -Werror
-
-LOCAL_COPY_HEADERS_TO   := mm-audio/qahw/inc
-LOCAL_COPY_HEADERS      := inc/qahw.h
-LOCAL_COPY_HEADERS      += inc/qahw_effect_api.h
-
+LOCAL_EXPORT_C_INCLUDE_DIRS := $(LOCAL_PATH)
 LOCAL_PROPRIETARY_MODULE := true
 LOCAL_VENDOR_MODULE     := true
 
diff --git a/qahw_api/Android.mk b/qahw_api/Android.mk
index 30c326f..5b62cc4 100644
--- a/qahw_api/Android.mk
+++ b/qahw_api/Android.mk
@@ -29,18 +29,7 @@ LOCAL_SHARED_LIBRARIES := \
     libqahwwrapper
 
 LOCAL_CFLAGS += -Wall -Werror
-
-LOCAL_COPY_HEADERS_TO   := mm-audio/qahw_api/inc
-LOCAL_COPY_HEADERS      := inc/qahw_defs.h
-LOCAL_COPY_HEADERS      += inc/qahw_api.h
-LOCAL_COPY_HEADERS      += inc/qahw_effect_audiosphere.h
-LOCAL_COPY_HEADERS      += inc/qahw_effect_bassboost.h
-LOCAL_COPY_HEADERS      += inc/qahw_effect_environmentalreverb.h
-LOCAL_COPY_HEADERS      += inc/qahw_effect_equalizer.h
-LOCAL_COPY_HEADERS      += inc/qahw_effect_presetreverb.h
-LOCAL_COPY_HEADERS      += inc/qahw_effect_virtualizer.h
-LOCAL_COPY_HEADERS      += inc/qahw_effect_visualizer.h
-
+LOCAL_EXPORT_C_INCLUDE_DIRS := $(LOCAL_PATH)
 LOCAL_VENDOR_MODULE     := true
 
 ifneq ($(filter kona lahaina holi,$(TARGET_BOARD_PLATFORM)),)
-- 
2.28.0

